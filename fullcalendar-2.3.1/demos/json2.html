<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8' />
<link href='../fullcalendar.css' rel='stylesheet' />
<link href='../fullcalendar.print.css' rel='stylesheet' media='print' />
<script src='../lib/moment.min.js'></script>
<script src='../lib/jquery.min.js'></script>
<script src='../fullcalendar.min.js'></script>
<script>

    $(document).ready(function() {
    
        $('#calendar').fullCalendar({
            header: {
                left: 'prev,next today',
                center: 'title',
                right: 'month,agendaWeek,agendaDay'
            },
            defaultDate: '2015-02-12',
            editable: false,
            eventLimit: true, // allow "more" link when too many events
            events: [
            	    {
                        "my_id":"1",
                        "title":"All Day Event",
                        "start":"2015-02-01"
                    },
                    {
                        "my_id":"1",
                        "title":"Long Event",
                        "start":"2015-02-07",
                        "end":"2015-02-10",
                        "color": "green"
                    },
                    {
                        "my_id":"999",
                        "title":"Repeating Event",
                        "start":"2015-02-09T16:00:00-05:00"
                    },
                    {
                        "my_id":"1","title":"Repeating Event",
                        "start":"2015-02-16T16:00:00-05:00"
                    },
                    {
                        "my_id":"2",
                        "title":"Conference",
                        "start":"2015-02-11","end":"2015-02-13"
                    },
                    {
                        "my_id":"2",
                        "title":"Meeting","start":"2015-02-12T10:30:00-05:00",
                        "end":"2015-02-12T12:30:00-05:00"
                    },
                    {
                        "my_id":"2",
                        "title":"Lunch",
                        "start":"2015-02-12T12:00:00-05:00"
                    },
                    {
                        "my_id":"3",
                        "title":"Meeting",
                        "start":"2015-02-12T14:30:00-05:00"
                    },
                    {
                        "my_id":"3",
                        "title":"Happy Hour",
                        "start":"2015-02-12T17:30:00-05:00"
                    },
                    {
                        "my_id":"3",
                        "title":"Dinner",
                        "start":"2015-02-12T20:00:00+00:00"
                    },
                    {
                        "my_id":"3",
                        "title":"Birthday Party",
                        "start":"2015-02-13T07:00:00-05:00"
                    },
                    {
                        "my_id":"3",
                        "url":"http:\/\/google.com\/",
                        "title":"Click for Google",
                        "start":"2015-02-28"
                    }
                    ],
            loading: function(bool) {
                $('#loading').toggle(bool);
            }
        });
        
    });

    $("#filter").change(function () {
        $("#calendar").fullCalendar("removeEvents", filter);
    });

    function filter(event) {
        return $("#filter > option:selected").attr("id") === event.my_id;
    }

</script>
<style>

    body {
        margin: 0;
        padding: 0;
        font-family: "Lucida Grande",Helvetica,Arial,Verdana,sans-serif;
        font-size: 14px;
    }

    #script-warning {
        display: none;
        background: #eee;
        border-bottom: 1px solid #ddd;
        padding: 0 10px;
        line-height: 40px;
        text-align: center;
        font-weight: bold;
        font-size: 12px;
        color: red;
    }

    #loading {
        display: none;
        position: absolute;
        top: 10px;
        right: 10px;
    }

    #calendar {
        max-width: 900px;
        margin: 40px auto;
        padding: 0 10px;
    }

</style>
</head>
<body>

    <div id='script-warning'>
        <code>php/get-events.php</code> must be running.
    </div>

    <div id='loading'>loading...</div>

    <div id='calendar'></div>

<span>Single Event Filter:</span>
<select id="filter">
    <option id="1">Christmas Eve</option>
    <option id="2">Christmas Day</option>        
    <option id="3">Boxing Day</option>        
</select>

</body>
</html>
